const expresiones={nombre:/^[a-zA-ZÀ-ÿ\s]{1,40}$/,apellido:/^[a-zA-ZÀ-ÿ\s]{1,40}$/,dni:/^\d{1,2}\.?\d{3}\.?\d{3}$/,biografia:/^[a-zA-Z0-9\.\!\@\_\s\?\¿\¡\'\$\(\)\"]{4,250}$/,file:/^.*\.(jpg|JPG|png|PNG|jpeg|JPEG)$/,url:/[(http(s)?):\/\/(www\.)?a-zA-Z0-9@:%._\+~#=]{2,256}\.[a-z]{2,6}\b([-a-zA-Z0-9@:%_\+.~#?&//=]*)/,facebook:/(?:https?:\/\/)?(?:www\.)?(mbasic.facebook|m\.facebook|facebook|fb)\.(com|me)\/(?:(?:\w\.)*#!\/)?(?:pages\/)?(?:[\w\-\.]*\/)*([\w\-\.]*)/,linkedin:/(?:https?:\/\/)?(?:www\.)?linkedin\.com\/in\/[A-z0-9_-]+\/?/},campos={nombre:!1,apellido:!1,dni:!1},inputFile=document.getElementById("pp");inputFile.addEventListener("change",()=>{const e=document.getElementById("campo_file");expresiones.file.exec(inputFile.value)?e.classList.contains&&(e.classList.remove("campo_file-error"),e.classList.remove("campo_error")):(mostrarAlerta("La extensión ingresada no está permitida","error",".text-error"),inputFile.value="",e.classList.add("campo_file-error"),e.classList.add("campo_error"))});const formulario=document.getElementById("form"),btnSubmit=document.getElementById("submit"),inputs=document.querySelectorAll(".formulario-account .campo-account input"),textarea=document.getElementById("biografia"),campoNombre=document.getElementById("campo_nombre"),campoApellido=document.getElementById("campo_apellido"),campoDni=document.getElementById("campo_dni"),campoBiografia=document.getElementById("campo_biografia"),campoUrl=document.getElementById("campo_url"),campoFacebook=document.getElementById("campo_facebook"),campoLinkedin=document.getElementById("campo_linkedin"),validarInputs=(e,a,r,o)=>{e.test(r.value)?(a.classList.remove(`campo_${o}-error`),a.classList.remove("campo_error"),a.classList.add(`campo_${o}-correcto`),a.classList.add("campo_correcto"),campos[o]=!0):(mostrarAlerta(`El campo ${o} no puede estar vacío`,"error",".text-error"),a.classList.remove("campo_correcto"),a.classList.remove(`campo_${o}-correcto`),a.classList.add("campo_error"),a.classList.add(`campo_${o}-error`),campos[o]=!1)};validarTextarea=e=>{expresiones.biografia.test(e.value)?(campoBiografia.classList.remove("campo_error"),campoBiografia.classList.remove("campo_biografia-error")):(campoBiografia.classList.add("campo_error"),campoBiografia.classList.add("campo_biografia-error"),mostrarAlerta("Tu biografia no debe exceder los 200 caracteres permitidos","error",".text-error"))},validarUrl=(e,a,r,o)=>{a.test(e.value)?(o.classList.remove("campo_error"),o.classList.remove("campo_url-error")):(o.classList.add("campo_error"),o.classList.add("campo_url-error"),mostrarAlerta(r+" no válido","error",".text-error"))};const validarForm=e=>{switch(e.target.name){case"nombre":validarInputs(expresiones.nombre,campoNombre,e.target,"nombre");break;case"apellido":validarInputs(expresiones.apellido,campoApellido,e.target,"apellido");break;case"dni":validarInputs(expresiones.dni,campoDni,e.target,"dni");break;case"biografia":validarTextarea(e.target);break;case"website":validarUrl(e.target,expresiones.url,"URL",campoUrl);break;case"facebook":validarUrl(e.target,expresiones.facebook,"URL Facebook",campoFacebook);break;case"linkedin":validarUrl(e.target,expresiones.linkedin,"URL LinkedIn",campoLinkedin)}};function mostrarAlerta(e,a,r,o=!0){if(document.querySelector(".alerta"))return;const t=document.createElement("DIV");t.textContent=e,t.classList.add("alerta",a);document.querySelector(r).appendChild(t),o&&setTimeout(()=>{t.remove()},5300)}inputs.forEach(e=>{e.addEventListener("keyup",validarForm),e.addEventListener("blur",validarForm)}),textarea.addEventListener("keyup",e=>{e.target.value.length>200&&validarForm(e)}),textarea.addEventListener("blur",e=>{e.target.value.length>200&&validarForm(e)});